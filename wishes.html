<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>All Wishes</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>All Wishes</h1>
  </header>

  <section id="all-wishes">
    <div id="wish-list">
      <!-- Wishes will be dynamically added here using JavaScript -->
    </div>
  </section>

  <a href="index.html" class="back-link">Back to Homepage</a>

  <footer>
    <center> <p>&copy; 2023 Theerapat Pooraya. All rights reserved.</p>
  </footer>

  <script src="script.js"></script>
  <script>
    // JavaScript code to retrieve and display all wishes
    const wishes = JSON.parse(localStorage.getItem('wishes'));
    const wishList = document.getElementById('wish-list');

    if (wishes && wishes.length > 0) {
      wishes.forEach((wish, index) => {
        const wishCard = document.createElement('div');
        wishCard.classList.add('wish');
        wishCard.innerHTML = `
          <p><strong>${wish.name}:</strong> ${wish.message}</p>
          ${wish.pictureURL ? `<img src="${wish.pictureURL}" alt="Wish Picture">` : ''}
          ${isOwner() ? `<button onclick="deleteWish(${index})">Delete</button>` : ''}
        `;
        wishList.appendChild(wishCard);
      });
    } else {
      const noWishesMessage = document.createElement('p');
      noWishesMessage.textContent = 'No wishes yet. Be the first to leave a wish!';
      wishList.appendChild(noWishesMessage);
    }

    function isOwner() {
      // Replace 'YOUR_USERNAME' with your actual GitHub username
      const ownerUsername = 'YOUR_USERNAME';
      return ownerUsername === 'YOUR_USERNAME'; // Modify to your actual GitHub username
    }

    function deleteWish(index) {
      if (isOwner()) {
        const wishes = JSON.parse(localStorage.getItem('wishes'));
        if (wishes && wishes.length > index) {
          wishes.splice(index, 1);
          localStorage.setItem('wishes', JSON.stringify(wishes));
          window.location.reload(); // Refresh the page to update the wish list
        }
      } else {
        alert('You are not authorized to delete wishes.');
      }
    }
  </script>
</body>
</html>
